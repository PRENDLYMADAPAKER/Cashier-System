<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dental Forms Cashier</title>
  <style>
    body {
      background: linear-gradient(135deg, white, pink, purple);
      min-height: 100vh;
      margin: 0;
      font-family: Arial, sans-serif;
      color: #fff;
    }

    /* Logo */
    .logo-container {
      position: absolute;
      top: 15px;
      right: 20px;
    }
    .logo-circle {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid white;
    }

    header {
      text-align: center;
      padding: 20px;
      font-size: 28px;
      font-weight: bold;
      color: #fff;
    }

    /* Search */
    .search-container {
      text-align: center;
      margin: 20px;
    }
    .search-container input {
      width: 80%;
      padding: 10px;
      border-radius: 20px;
      border: none;
      outline: none;
      font-size: 16px;
    }

    /* Shop grid */
    .shop {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
      padding: 20px;
    }

    .card {
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(12px);
      border-radius: 15px;
      padding: 20px;
      text-align: center;
    }
    .card h3 {
      margin: 10px 0;
    }
    .card p {
      font-size: 15px;
      margin: 5px 0;
    }
    .card button {
      background: #ff4d6d;
      border: none;
      padding: 8px 15px;
      border-radius: 10px;
      cursor: pointer;
      margin: 5px 0;
      color: white;
      font-size: 14px;
      transition: 0.3s;
    }
    .card button:hover {
      background: #ff1e4d;
    }

    /* Checkout */
    .checkout {
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(12px);
      border-radius: 15px;
      padding: 20px;
      margin: 20px;
    }
    .checkout h2 {
      margin-top: 0;
    }
    .checkout-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 10px 0;
      padding: 10px;
      background: rgba(255, 255, 255, 0.15);
      border-radius: 10px;
    }
    .delete-btn {
      background: transparent;
      border: none;
      font-size: 18px;
      cursor: pointer;
      color: #ff4d6d;
      transition: transform 0.2s ease;
    }
    .delete-btn:hover {
      transform: scale(1.2);
    }

    /* Reports */
    .reports {
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(12px);
      border-radius: 15px;
      padding: 20px;
      margin: 20px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      color: white;
    }
    th, td {
      padding: 10px;
      text-align: left;
    }
    th {
      background: rgba(255, 255, 255, 0.3);
    }
    td {
      background: rgba(255, 255, 255, 0.1);
    }
  </style>
</head>
<body>

  <!-- Logo -->
  <div class="logo-container">
    <img src="https://i.imgur.com/CiJ90nK.jpeg" alt="Logo" class="logo-circle">
  </div>

  <!-- Header -->
  <header>Dental Forms Cashier</header>

  <!-- Search -->
  <div class="search-container">
    <input type="text" id="searchBox" placeholder="Search dental forms...">
  </div>

  <!-- Shop -->
  <div class="shop" id="shop"></div>

  <!-- Checkout -->
  <div class="checkout">
    <h2>Checkout</h2>
    <div id="checkout-items"></div>
    <h3>Total: ₱<span id="total">0</span></h3>
    <button onclick="checkout()">Checkout</button>
  </div>

  <!-- Reports -->
  <div class="reports">
    <h2>Sales Report</h2>
    <table>
      <thead>
        <tr>
          <th>Form</th>
          <th>Sold</th>
          <th>Remaining Stock</th>
        </tr>
      </thead>
      <tbody id="report-body"></tbody>
    </table>
    <h3>Total Sales: ₱<span id="grand-total">0</span></h3>
    <button onclick="exportCSV()">Export CSV</button>
    <button onclick="window.print()">Print</button>
    <button onclick="resetSystem()">Reset</button>
  </div>
  <script>
    // Products / Forms list
    let products = [
      { name: "Complete Denture Live Patient", price: 15, stock: 0, sold: 0 },
      { name: "Complete Denture Cast", price: 10, stock: 0, sold: 0 },
      { name: "RPD Drawing", price: 5, stock: 0, sold: 0 },
      { name: "RPD Cast Grading", price: 10, stock: 0, sold: 0 },
      { name: "RPD Live Grading", price: 10, stock: 0, sold: 0 },
      { name: "Endodontics", price: 50, stock: 0, sold: 0 },
      { name: "Perio/OP", price: 15, stock: 0, sold: 0 },
      { name: "Oral Surgery", price: 10, stock: 0, sold: 0 },
      { name: "PFM & FPD Typodonts", price: 10, stock: 0, sold: 0 },
      { name: "PFM & FPD Live", price: 15, stock: 0, sold: 0 },
      { name: "Restorative Typodonts", price: 5, stock: 0, sold: 0 },
      { name: "Restorative Live", price: 10, stock: 0, sold: 0 },
      { name: "Mastercard Patient/Student", price: 30, stock: 0, sold: 0 },
      { name: "31 Accomplishment", price: 25, stock: 0, sold: 0 },
      { name: "32 Accomplishment", price: 35, stock: 0, sold: 0 },
      { name: "41 Accomplishment", price: 30, stock: 0, sold: 0 },
      { name: "42 Accomplishment", price: 20, stock: 0, sold: 0 }
    ];

    let cart = [];
    let total = 0;
    let grandTotal = 0;

    // Render shop items
    function renderShop() {
      const shop = document.getElementById("shop");
      shop.innerHTML = "";
      products.forEach((p, index) => {
        shop.innerHTML += `
          <div class="card" data-name="${p.name}">
            <h3>${p.name}</h3>
            <p>₱${p.price}</p>
            <p>Stock: ${p.stock}</p>
            <button onclick="addToCart(${index})">Add to Cart</button>
            <button onclick="addStock(${index})">Add Stock</button>
          </div>
        `;
      });
    }

    // Add to cart
    function addToCart(index) {
      let p = products[index];
      if (p.stock <= 0) {
        alert("Out of stock!");
        return;
      }
      cart.push({ index, name: p.name, price: p.price });
      total += p.price;
      renderCart();
    }

    // Remove from cart
    function removeFromCart(cartIndex) {
      total -= cart[cartIndex].price;
      cart.splice(cartIndex, 1);
      renderCart();
    }

    // Render cart
    function renderCart() {
      const checkoutItems = document.getElementById("checkout-items");
      checkoutItems.innerHTML = "";
      cart.forEach((item, i) => {
        checkoutItems.innerHTML += `
          <div class="checkout-item">
            <span>${item.name} - ₱${item.price}</span>
            <button class="delete-btn" onclick="removeFromCart(${i})">❌</button>
          </div>
        `;
      });
      document.getElementById("total").innerText = total;
    }

    // Checkout
    function checkout() {
      if (cart.length === 0) {
        alert("Cart is empty!");
        return;
      }
      cart.forEach(item => {
        products[item.index].stock -= 1;
        products[item.index].sold += 1;
        grandTotal += item.price;
      });
      cart = [];
      total = 0;
      renderCart();
      renderShop();
      renderReport();
    }

    // Add stock
    function addStock(index) {
      let amount = parseInt(prompt("Enter stock to add:"));
      if (!isNaN(amount) && amount > 0) {
        products[index].stock += amount;
        renderShop();
        renderReport();
      }
    }

    // Render report
    function renderReport() {
      const body = document.getElementById("report-body");
      body.innerHTML = "";
      products.forEach(p => {
        body.innerHTML += `
          <tr>
            <td>${p.name}</td>
            <td>${p.sold}</td>
            <td>${p.stock}</td>
          </tr>
        `;
      });
      document.getElementById("grand-total").innerText = grandTotal;
    }

    // Export CSV
    function exportCSV() {
      let csv = "Form,Sold,Remaining Stock\n";
      products.forEach(p => {
        csv += `${p.name},${p.sold},${p.stock}\n`;
      });
      let blob = new Blob([csv], { type: "text/csv" });
      let link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = "sales_report.csv";
      link.click();
    }

    // Reset system
    function resetSystem() {
      if (confirm("Reset all data?")) {
        products.forEach(p => {
          p.stock = 0;
          p.sold = 0;
        });
        cart = [];
        total = 0;
        grandTotal = 0;
        renderShop();
        renderCart();
        renderReport();
      }
    }

    // Search filter
    document.getElementById("searchBox").addEventListener("input", function () {
      const query = this.value.toLowerCase();
      const items = document.querySelectorAll(".card");
      items.forEach(item => {
        const name = item.getAttribute("data-name").toLowerCase();
        item.style.display = name.includes(query) ? "block" : "none";
      });
    });

    // Init
    renderShop();
    renderReport();
  </script>
</body>
</html>
